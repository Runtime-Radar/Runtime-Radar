<ng-container *transloco="let tCommon; prefix: 'common'">
    <kbq-modal-title>{{ tCommon('Common.ChangePasswordModal.Title.Change') }}</kbq-modal-title>

    <kbq-modal-body>
        <form [formGroup]="form" class="kbq-form-vertical shared-password-modal-form">
            <section class="kbq-form__row">
                <kbq-form-field class="kbq-form__control">
                    <input kbqInputPassword
                           cdkFocusInitial
                           type="password"
                           id="password"
                           formControlName="password"
                           placeholder="{{ tCommon('Common.ChangePasswordModal.Placeholder.Password') }}"
                           data-testid="change-password-input">
                    <kbq-password-toggle
                            [kbqTooltipNotHidden]="tCommon('Common.ChangePasswordModal.Hint.HidePassword')"
                            [kbqTooltipHidden]="tCommon('Common.ChangePasswordModal.Hint.ShowPassword')"></kbq-password-toggle>
                    <kbq-password-hint [rule]="passwordRules.Length" [min]="8" [max]="16">
                        {{ tCommon('Common.Form.PasswordRules.Length', { min: 8, max: 16 }) }}
                    </kbq-password-hint>
                    <kbq-password-hint [rule]="passwordRules.UpperLatin">
                        {{ tCommon('Common.Form.PasswordRules.UpperLatin') }}
                    </kbq-password-hint>
                    <kbq-password-hint [rule]="passwordRules.LowerLatin">
                        {{ tCommon('Common.Form.PasswordRules.LowerLatin') }}
                    </kbq-password-hint>
                    <kbq-password-hint [rule]="passwordRules.Digit">
                        {{ tCommon('Common.Form.PasswordRules.Digit') }}
                    </kbq-password-hint>
                </kbq-form-field>
            </section>
        </form>
    </kbq-modal-body>

    <kbq-modal-footer>
        <button kbq-button
                kbqStyle="outline"
                color="theme-fade"
                type="button"
                [disabled]="(isFormValid$ | async) === false"
                (click)="dispatch(true)"
                data-testid="change-password-confirm-button">
            {{ tCommon('Common.ChangePasswordModal.Button.Confirm') }}
        </button>
        <button kbq-button
                type="button"
                (click)="dispatch(false)"
                data-testid="change-password-cancel-button">
            {{ tCommon('Common.ChangePasswordModal.Button.Cancel') }}
        </button>
    </kbq-modal-footer>
</ng-container>
