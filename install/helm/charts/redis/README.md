# Chart

## Parameters

### Global parameters

| Name                              | Description                                                                                 | Value |
| --------------------------------- | ------------------------------------------------------------------------------------------- | ----- |
| `global.imageRegistry`            | Global Docker image registry                                                                | `""`  |
| `global.imagePullSecrets`         | Global Docker registry secret names as an array                                             | `[]`  |
| `global.storageClass`             | Global StorageClass for Persistent Volume(s)                                                | `""`  |
| `global.redis.tls.enabled`        | Enable TLS traffic support (overrides `tls.enabled`)                                        | `nil` |
| `global.redis.tls.autoGenerated`  | Generate automatically self-signed TLS certificates (overrides `tls.autoGenerated`)         | `nil` |
| `global.redis.tls.existingSecret` | Name of an existing secret that contains the certificates (overrides `tls.existingSecret`)  | `""`  |
| `global.redis.tls.cert`           | Certificate value. Requires `tls.autoGenerated` to be `false` (overrides `tls.cert`)        | `""`  |
| `global.redis.tls.certKey`        | Certificate key value. Requires `tls.autoGenerated` to be `false` (overrides `tls.certKey`) | `""`  |
| `global.redis.tls.certCA`         | CA Certificate value. Requires `tls.autoGenerated` to be `false` (overrides `tls.certCA`)   | `""`  |

### Common parameters

| Name                | Description                                                                            | Value           |
| ------------------- | -------------------------------------------------------------------------------------- | --------------- |
| `nameOverride`      | String to partially override common.fullname template (will maintain the release name) | `""`            |
| `fullnameOverride`  | String to fully override common.fullname template                                      | `""`            |
| `namespaceOverride` | String to fully override common.namespace                                              | `""`            |
| `clusterDomain`     | Kubernetes Cluster Domain                                                              | `cluster.local` |
| `labels`            | Add labels to all the deployed resources                                               | `{}`            |
| `annotations`       | Add annotations to all the deployed resources                                          | `{}`            |
| `imagePullSecrets`  | Global Docker registry secret names as an array                                        | `[]`            |

### Redis&reg; parameters

| Name                             | Description                                                                                                | Value                   |
| -------------------------------- | ---------------------------------------------------------------------------------------------------------- | ----------------------- |
| `image.registry`                 | Redis&reg; image registry                                                                                  | `REGISTRY_NAME`         |
| `image.repository`               | Redis&reg; image repository                                                                                | `REPOSITORY_NAME/redis` |
| `image.digest`                   | Redis&reg; image digest in the way sha256:aa.... Please note this parameter, if set, will override the tag | `""`                    |
| `image.pullPolicy`               | Redis&reg; image pull policy                                                                               | `IfNotPresent`          |
| `auth.enabled`                   | Enable password authentication                                                                             | `true`                  |
| `auth.username`                  | Redis&reg; username                                                                                        | `default`               |
| `auth.password`                  | Redis&reg; password                                                                                        | `""`                    |
| `auth.existingSecret`            | The name of an existing secret with Redis&reg; credentials                                                 | `""`                    |
| `auth.existingSecretPasswordKey` | Password key to be retrieved from existing secret                                                          | `""`                    |
| `tls.enabled`                    | Enable TLS traffic                                                                                         | `false`                 |
| `tls.authClients`                | Require clients to authenticate                                                                            | `false`                 |
| `tls.autoGenerated`              | Enable autogenerated certificates                                                                          | `false`                 |
| `tls.existingSecret`             | The name of the existing secret that contains the TLS certificates                                         | `""`                    |
| `tls.certFilename`               | Certificate filename                                                                                       | `tls.crt`               |
| `tls.certKeyFilename`            | Certificate Key filename                                                                                   | `tls.key`               |
| `tls.certCAFilename`             | CA Certificate filename                                                                                    | `ca.crt`                |
| `tls.cert`                       | Certificate value. Requires `tls.autoGenerated` to be `false`                                              | `""`                    |
| `tls.certKey`                    | Certificate key value. Requires `tls.autoGenerated` to be `false`                                          | `""`                    |
| `tls.certCA`                     | CA Certificate value. Requires `tls.autoGenerated` to be `false`                                           | `""`                    |
| `resources`                      | Set container requests and limits for different resources like CPU or memory                               | `{}`                    |

### Redis&reg; configuration parameters

| Name                                                | Description                                                                                     | Value                    |
| --------------------------------------------------- | ----------------------------------------------------------------------------------------------- | ------------------------ |
| `configuration`                                     | Configuration to be added into the ConfigMap                                                    | `""`                     |
| `existingConfigmap`                                 | The name of an existing ConfigMap with your custom configuration for Redis&reg; nodes           | `""`                     |
| `replicaCount`                                      | Number of Redis&reg; instances to deploy                                                        | `1`                      |
| `disableCommands`                                   | Array with Redis&reg; commands to disable on master nodes                                       | `["FLUSHDB","FLUSHALL"]` |
| `podLabels`                                         | Extra labels for Redis&reg; master pods                                                         | `{}`                     |
| `podAnnotations`                                    | Annotations for Redis&reg; master pods                                                          | `{}`                     |
| `affinity`                                          | Affinity for Redis&reg; master pods assignment                                                  | `{}`                     |
| `nodeSelector`                                      | Node labels for Redis&reg; master pods assignment                                               | `{}`                     |
| `tolerations`                                       | Tolerations for Redis&reg; master pods assignment                                               | `[]`                     |
| `terminationGracePeriodSeconds`                     | Seconds PostgreSQL pod needs to terminate gracefully                                            | `""`                     |
| `extraEnvVars`                                      | Array with extra environment variables to add to Redis&reg; master nodes                        | `[]`                     |
| `volumes`                                           | Optionally specify extra list of additional volumes for the Redis&reg; master pod(s)            | `[]`                     |
| `volumeMounts`                                      | Optionally specify extra list of additional volumeMounts for the Redis&reg; master container(s) | `[]`                     |
| `containerPorts.redis`                              | Container port to open on Redis&reg; master nodes                                               | `6379`                   |
| `podSecurityContext.enabled`                        | Enabled Redis&reg; master pods' Security Context                                                | `true`                   |
| `podSecurityContext.fsGroupChangePolicy`            | Set filesystem group change policy                                                              | `Always`                 |
| `podSecurityContext.sysctls`                        | Set kernel settings using the sysctl interface                                                  | `[]`                     |
| `podSecurityContext.supplementalGroups`             | Set filesystem extra groups                                                                     | `[]`                     |
| `podSecurityContext.fsGroup`                        | Set Redis&reg; master pod's Security Context fsGroup                                            | `1001`                   |
| `containerSecurityContext.enabled`                  | Enabled Redis&reg; master containers' Security Context                                          | `true`                   |
| `containerSecurityContext.seLinuxOptions`           | Set SELinux options in container                                                                | `{}`                     |
| `containerSecurityContext.runAsUser`                | Set Redis&reg; master containers' Security Context runAsUser                                    | `1001`                   |
| `containerSecurityContext.runAsGroup`               | Set Redis&reg; master containers' Security Context runAsGroup                                   | `1001`                   |
| `containerSecurityContext.runAsNonRoot`             | Set Redis&reg; master containers' Security Context runAsNonRoot                                 | `true`                   |
| `containerSecurityContext.allowPrivilegeEscalation` | Is it possible to escalate Redis&reg; pod(s) privileges                                         | `false`                  |
| `containerSecurityContext.readOnlyRootFilesystem`   | Set container's Security Context read-only root filesystem                                      | `true`                   |
| `containerSecurityContext.seccompProfile.type`      | Set Redis&reg; master containers' Security Context seccompProfile                               | `RuntimeDefault`         |
| `containerSecurityContext.capabilities.drop`        | Set Redis&reg; master containers' Security Context capabilities to drop                         | `["ALL"]`                |
| `startupProbe.enabled`                              | Enable startupProbe on Redis&reg; master nodes                                                  | `false`                  |
| `startupProbe.initialDelaySeconds`                  | Initial delay seconds for startupProbe                                                          | `20`                     |
| `startupProbe.periodSeconds`                        | Period seconds for startupProbe                                                                 | `5`                      |
| `startupProbe.timeoutSeconds`                       | Timeout seconds for startupProbe                                                                | `5`                      |
| `startupProbe.successThreshold`                     | Failure threshold for startupProbe                                                              | `1`                      |
| `startupProbe.failureThreshold`                     | Success threshold for startupProbe                                                              | `5`                      |
| `livenessProbe.enabled`                             | Enable livenessProbe on Redis&reg; master nodes                                                 | `true`                   |
| `livenessProbe.initialDelaySeconds`                 | Initial delay seconds for livenessProbe                                                         | `20`                     |
| `livenessProbe.periodSeconds`                       | Period seconds for livenessProbe                                                                | `5`                      |
| `livenessProbe.timeoutSeconds`                      | Timeout seconds for livenessProbe                                                               | `5`                      |
| `livenessProbe.successThreshold`                    | Failure threshold for livenessProbe                                                             | `1`                      |
| `livenessProbe.failureThreshold`                    | Success threshold for livenessProbe                                                             | `5`                      |
| `readinessProbe.enabled`                            | Enable readinessProbe on Redis&reg; master nodes                                                | `true`                   |
| `readinessProbe.initialDelaySeconds`                | Initial delay seconds for readinessProbe                                                        | `20`                     |
| `readinessProbe.periodSeconds`                      | Period seconds for readinessProbe                                                               | `5`                      |
| `readinessProbe.timeoutSeconds`                     | Timeout seconds for readinessProbe                                                              | `1`                      |
| `readinessProbe.successThreshold`                   | Failure threshold for readinessProbe                                                            | `1`                      |
| `readinessProbe.failureThreshold`                   | Success threshold for readinessProbe                                                            | `5`                      |

### Service Parameters

| Name                           | Description                                                 | Value       |
| ------------------------------ | ----------------------------------------------------------- | ----------- |
| `service.type`                 | Redis&reg; master service type                              | `ClusterIP` |
| `service.portNames.redis`      | Redis&reg; master service port name                         | `tcp-redis` |
| `service.ports.redis`          | Redis&reg; master service port                              | `6379`      |
| `service.annotations`          | Additional custom annotations for Redis&reg; master service | `{}`        |
| `service.headless.annotations` | Annotations for the headless service.                       | `{}`        |

### Persistence Parameters

| Name                                               | Description                                                                             | Value               |
| -------------------------------------------------- | --------------------------------------------------------------------------------------- | ------------------- |
| `persistence.enabled`                              | Enable PostgreSQL data persistence using PVC                                            | `true`              |
| `persistence.existingClaim`                        | Name of an existing PVC to use                                                          | `""`                |
| `persistence.storageClass`                         | PVC Storage Class for PostgreSQL data volume                                            | `""`                |
| `persistence.accessModes`                          | PVC Access Mode for PostgreSQL volume                                                   | `["ReadWriteOnce"]` |
| `persistence.size`                                 | PVC Storage Request for PostgreSQL volume                                               | `8Gi`               |
| `persistence.annotations`                          | Annotations for the PVC                                                                 | `{}`                |
| `persistence.labels`                               | Labels for the PVC                                                                      | `{}`                |
| `persistence.selector`                             | Selector to match an existing Persistent Volume (this value is evaluated as a template) | `{}`                |
| `persistence.dataSource`                           | Custom PVC data source                                                                  | `{}`                |
| `persistence.persistentVolumeClaimRetentionPolicy` | PostgreSQL Persistent Volume Claim Retention Policy                                     | `{}`                |

### Other Parameters

| Name                                | Description                                                     | Value   |
| ----------------------------------- | --------------------------------------------------------------- | ------- |
| `serviceAccount.create`             | Specifies whether a ServiceAccount should be created            | `true`  |
| `serviceAccount.name`               | The name of the ServiceAccount to use.                          | `""`    |
| `serviceAccount.automount`          | Whether to auto mount the service account token                 | `false` |
| `serviceAccount.annotations`        | Additional custom annotations for the ServiceAccount            | `{}`    |
| `networkPolicy.enabled`             | Enable creation of NetworkPolicy resources                      | `true`  |
| `networkPolicy.allowExternal`       | Don't require client label for connections                      | `true`  |
| `networkPolicy.allowExternalEgress` | Allow the pod to access any range of port and all destinations. | `true`  |
| `networkPolicy.extraIngress`        | Add extra ingress rules to the NetworkPolicy                    | `[]`    |
| `networkPolicy.extraEgress`         | Add extra egress rules to the NetworkPolicy                     | `[]`    |
